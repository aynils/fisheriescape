{% load i18n %}

<form @submit.prevent="onSubmit">
  <div class="mb-3">
    <div class="form-group">
      <label for="">${labels.category}</label>
      <select
        class="form-control" required
        v-model="reference.category"
        ref="category"
        id="category"
      >
        <option value="">-----</option>
        <option v-for="(option, index) in category_choices" :value="option.value">${option.text}</option>
      </select>
    </div>
    <div class="form-group" v-if="currentCategoryObj.is_publication">
      <label for="">${labels.publication_type}</label>
      <select
        required
        class="form-control"
        v-model="reference.publication_type"
      >
        <option value="">-----</option>
        <option v-for="(option, index) in publication_type_choices" :value="option.value">${option.text}</option>
      </select>
    </div>
    <div class="form-group" v-if="currentCategoryObj.is_publication">
      <label for="">${labels.review_type}</label>
      <select
        required
        class="form-control"
        v-model="reference.review_type"
      >
        <option value="">-----</option>
        <option v-for="(option, index) in review_type_choices" :value="option.value">${option.text}</option>
      </select>
    </div>


    <div class="form-group">
{#      <label for="">#}
{#        <span v-if="!currentCategoryObj.is_publication">{% trans "Date of achievement" %} ({% trans "optional" %})</span>#}
{#        <span v-else>{% trans "Date of publication" %}</span>#}
{#      </label>#}
      <label for="">${labels.date}</label>
      <input type="date" v-model="reference.date" class="form-control" :required="currentCategoryObj.is_publication"/>
    </div>
    <div class="form-group">
      <label for="">${labels.detail}</label>
      <textarea v-model="reference.detail" required class="form-control" rows="8"></textarea>
    </div>
  </div>
  <div class="mb-3">
    <button type="submit" class="btn btn-success">
      {% trans "Add" %}
    </button>
    <button class="mx-1 btn btn-secondary" @click="closeOverlay" type="button">{% trans "Cancel" %}</button>
  </div>
</form>
