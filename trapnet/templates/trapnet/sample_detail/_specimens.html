{% load i18n %}
{% load verbose_names %}

<div class="card mb-5">
  <div class="card-header lead">
    {% if object.sample_type == 1 or object.sample_type == 3 %}
      <div class="float-right">
        {% if not object.is_reviewed %}
          <a class="btn btn-primary btn-sm" href="{% url 'trapnet:sample_data_entry' object.id %}">{% trans "Add / Modify" %}</a>
        {% endif %}
      </div>
    {% endif %}
    {% trans "Specimens" %}
    {% if object.specimens.exists %} ({{ object.specimens.count }}) {% endif %}
  </div>
  <div class="card-body">
    {% if not object.specimens.exists %}
      <em>{% trans "There are no specimens associated with this sample." %}</em>
    {% else %}
      <table class="table table-sm table-hover table-small-10 sortable">
        <thead>
        <tr>
          {% for field in specimen_field_list %}
            <th>
              {% get_verbose_label object.specimens.first field %}
            </th>
          {% endfor %}
        </tr>
        </thead>
        <tbody>
        {% for specimen in object.specimens.all %}
          <tr href="{% url 'trapnet:specimen_detail' specimen.id %}">
            {% for field in specimen_field_list %}
              <td>
                {% get_field_value specimen field %}
              </td>
            {% endfor %}
          </tr>
        {% endfor %}
        </tbody>
      </table>
    {% endif %}
  </div>
</div>
