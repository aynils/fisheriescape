{% extends "shared_models/generic_base.html" %}
{% load bootstrap4 %}
{% load i18n %}
{% load custom_filters %}
{% load custom_tags %}
{% load el_pagination_tags %}
{% load verbose_names %}

{% block subcontent %}
  {% trans 'New' as default_new_btn_text %}
  {% if filter %}
    {% block filter %}
      <div class="{% block filter_div_classes %}{% endblock %}">
        <form class="form {% block extra_filter_classes %}{% endblock %}" action="." method="get" id="filter-form">
          <div class="row">
            {% for field in filter.form %}
              <div class="col">
                {% bootstrap_field field placeholder="" size="small" %}
              </div>
            {% endfor %}
            <div class="col">
              <br>
              <input type="submit" value="{% trans "Filter" %}" class="btn btn-warning btn-sm">
              <a href="." class="btn btn-secondary btn-sm">{% trans "Clear" %}</a>
            </div>
          </div>
        </form>
      </div>
    {% endblock %}
    <br>

  {% endif %}

  {% if object_list.exists %}
    {% if filter %}
      {% if filter_list %}
        {% echo filter_list as list %}
      {% else %}
        {% echo filter.qs as list %}
      {% endif %}
    {% else %}
      {% echo object_list as list %}
    {% endif %}

    {% block pre_table %}
    {% endblock %}

    {% block table %}
      <table class="{% block table_class %}table table-sm {% if row_object_url_name %}table-hover{% endif %} {% if sortable and not paginate_by %}sortable{% endif %}{% endblock %}">
        <thead>
        {% block head %}
          {% for field in field_list %}
            <th class="{{ field.class }}" {% if field.width %}style="width: {{ field.width }}"{% endif %}>
              {% get_verbose_label random_object field.name %}
            </th>
          {% endfor %}
        {% endblock %}
        </thead>

        {% block table_body_0 %}
          <tbody>
          {% for object in list %}
            {% block table_tr %}
              {% url row_object_url_name object.id as my_url %}
              <tr {% if row_object_url_name %}href="{{ my_url }}"{% endif %} {% if open_row_in_new_tab %}newtab{% endif %}>
                {% for field in field_list %}
                  <td class="{{ field.class }}">
                    {% block table_td %}
                      {% get_field_value object field.name safe=True %} 
                    {% endblock %}
                  </td>
                {% endfor %}
              </tr>
            {% endblock %}
          {% endfor %}
          </tbody>
        {% endblock %}

      </table>

    {% endblock %}



  {% else %}
    <div>
      <p class="lead">
        <em>
          {% trans "There are no items to display" %} <span class="ml-1 mdi mdi-emoticon-confused-outline"> </span>
        </em>
      </p>
    </div>
  {% endif %}

{% endblock %}


