{% extends "inventory/resource_detail/section_template.html" %}

{% load static %}
{% load i18n %}
{% load custom_filters %}

{% block wd %} w-75 {% endblock %}
{% block mdi_class %}mdi-web{% endblock %}
{% block section_title %}
  {% trans "Web Services" %}
{% endblock %}

{% block optional_btn_url %}
  {% url 'inventory:web_service_create' object.id %}
{% endblock %}

{% block section_table_header_rows %}
  <th class="w-50">{% trans "Name" %}</th>
  <th class="">{% trans "Content Type" %}</th>
  <th class="w-25"></th>
{% endblock %}

{% block section_table %}
  {% if not object.web_services.exists %}
    <em>{% trans "No data resources have been added to this record." %}</em>
  {% else %}
    {{ block.super }}
  {% endif %}
{% endblock %}

{% block section_table_body_rows %}

  {% for item in object.web_services.all %}
    <tr>
      <td>{{ item }}</td>
      <td>{{ item.get_content_type_display }}</td>
      <td class="text-right">
        <a href="{{ item.url }}" data-toggle="tooltip" title="visit URL" class="btn btn-sm btn-primary" target="_blank">
          <span class="mdi mdi-web  text-light"></span>
        </a>
        {% if can_modify.can_modify %}
          <a href="#" pop-href="{% url "inventory:web_service_edit" item.id %}" data-toggle="tooltip" title="edit" class="btn btn-sm btn-warning">
            <span class="mdi mdi-pencil text-dark"></span>
          </a>
          <a href="{% url 'inventory:web_service_clone' item.id %}" data-toggle="tooltip" title="clone" class="btn btn-sm btn-dark">
            <span class="mdi mdi-content-copy  text-light"></span>
          </a>
          <a href="#" pop-href="{% url 'inventory:web_service_delete' item.id %}" data-toggle="tooltip" title="delete" class="btn btn-sm btn-danger">
            <span class="mdi mdi-trash-can text-light"></span>
          </a>
        {% endif %}
      </td>
    </tr>
  {% endfor %}
{% endblock %}
