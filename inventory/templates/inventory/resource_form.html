{% extends "inventory/form.html" %}

{% load bootstrap4 %}
{% load i18n %}
{% load static %}

{% block form_fields %}

  <div class="card mb-5">
    <div class="card-header bg-primary text-light ">
      <p class=" lead">
        {% trans "Identification" %}
      </p>
    </div>
    <div class="card-body">
      {% bootstrap_field form.section label_class="" placeholder="" %}
      <div class="row">
        <div class="col">
          {% bootstrap_field form.title_eng label_class="" placeholder="" %}
        </div>
        <div class="col">
          {% bootstrap_field form.title_fre label_class="" placeholder="" %}
        </div>
      </div>
      <div class="row">
        <div class="col">
          {% bootstrap_field form.purpose_eng label_class="" placeholder="" %}
        </div>
        <div class="col">
          {% bootstrap_field form.purpose_fre label_class="" placeholder="" %}
        </div>
      </div>
      <div class="row">
        <div class="col">
          {% bootstrap_field form.descr_eng label_class="" placeholder="" %}
        </div>
        <div class="col">
          {% bootstrap_field form.descr_fre label_class="" placeholder="" %}
        </div>
      </div>
      {% bootstrap_field form.has_dma label_class="text-success" placeholder="" %}
      {% bootstrap_field form.notes label_class="text-success" placeholder="" %}
    </div>
  </div>

  <div class="card mb-5">
    <div class="card-header bg-primary text-light ">
      <p class=" lead">
        {% trans "Mandatory Metadata" %}
      </p>
    </div>
    <div class="card-body">
      {% bootstrap_field form.resource_type label_class="" placeholder="" %}
      {% bootstrap_field form.status label_class="" placeholder="" %}
      {% bootstrap_field form.maintenance label_class="" placeholder="" %}
      {% bootstrap_field form.maintenance_text label_class="" placeholder="" %}
      <div class="row">
        <div class="col">
          {% bootstrap_field form.time_start_year label_class="" placeholder="" %}
        </div>
        <div class="col">
          {% bootstrap_field form.time_start_month label_class="text-success" placeholder="" %}
        </div>
        <div class="col">
          {% bootstrap_field form.time_start_day label_class="text-success" placeholder="" %}
        </div>
      </div>
      <div class="row">
        <div class="col">
          {% bootstrap_field form.time_end_year label_class="text-success" placeholder="" %}
        </div>
        <div class="col">
          {% bootstrap_field form.time_end_month label_class="text-success" placeholder="" %}
        </div>
        <div class="col">
          {% bootstrap_field form.time_end_day label_class="text-success" placeholder="" %}
        </div>
      </div>

      <div class="row">
        <div class="col">
          {% bootstrap_field form.geo_descr_eng label_class="" placeholder="" %}
        </div>
        <div class="col">
          {% bootstrap_field form.geo_descr_fre label_class="" placeholder="" %}
        </div>
      </div>

      <div class="row">
        <div class="col">
          {% bootstrap_field form.west_bounding label_class="" placeholder="" %}
        </div>
        <div class="col">
          {% bootstrap_field form.south_bounding label_class="" placeholder="" %}
        </div>
        <div class="col">
          {% bootstrap_field form.east_bounding label_class="" placeholder="" %}
        </div>
        <div class="col">
          {% bootstrap_field form.north_bounding label_class="" placeholder="" %}
        </div>
      </div>


      <div class="row">
        <div class="col">
          {% bootstrap_field form.resource_constraint_eng label_class="" placeholder="" %}
        </div>
        <div class="col">
          {% bootstrap_field form.resource_constraint_fre label_class="" placeholder="" %}
        </div>
      </div>
      {% bootstrap_field form.security_classification label_class="" placeholder="" %}
      <div class="row">
        <div class="col">
          {% bootstrap_field form.security_use_limitation_eng label_class="" placeholder="" %}
        </div>
        <div class="col">
          {% bootstrap_field form.security_use_limitation_fre label_class="" placeholder="" %}
        </div>
      </div>
      {% bootstrap_field form.data_char_set label_class="" placeholder="" %}
      {% bootstrap_field form.spat_representation label_class="" placeholder="" %}
      {% bootstrap_field form.spat_ref_system label_class="" placeholder="" %}
      {% bootstrap_field form.distribution_formats label_class="" placeholder="" %}
      {% bootstrap_field form.parent label_class="" placeholder="" %}
    </div>
  </div>


  <div class="card mb-5">
    <div class="card-header bg-primary text-light ">
      <p class=" lead">
        {% trans "Optional Metadata" %}
      </p>
      <p>
        {% blocktrans %}
          These are optional fields in the Federal Geospatial Platform (FGP). However if an optional field is used, it will have to be provided in both English
          and French (if applicable)
        {% endblocktrans %}
      </p>
    </div>
    <div class="card-body">
      <div class="row">
        <div class="col">
          {% bootstrap_field form.sampling_method_eng label_class="text-success" placeholder="" %}
        </div>
        <div class="col">
          {% bootstrap_field form.sampling_method_fre label_class="text-success" placeholder="" %}
        </div>
      </div>
      <div class="row">
        <div class="col">
          {% bootstrap_field form.physical_sample_descr_eng label_class="text-success" placeholder="" %}
        </div>
        <div class="col">
          {% bootstrap_field form.physical_sample_descr_fre label_class="text-success" placeholder="" %}
        </div>
      </div>
      <div class="row">
        <div class="col">
          {% bootstrap_field form.qc_process_descr_eng label_class="text-success" placeholder="" %}
        </div>
        <div class="col">
          {% bootstrap_field form.qc_process_descr_fre label_class="text-success" placeholder="" %}
        </div>
      </div>
      <div class="row">
        <div class="col">
          {% bootstrap_field form.parameters_collected_eng label_class="text-success" placeholder="" %}
        </div>
        <div class="col">
          {% bootstrap_field form.parameters_collected_fre label_class="text-success" placeholder="" %}
        </div>
      </div>
      {% bootstrap_field form.analytic_software label_class="text-success" placeholder="" %}
      {% bootstrap_field form.additional_credit label_class="text-success" placeholder="" %}
    </div>
  </div>

  <div class="card mb-5">
    <div class="card-header bg-primary text-light ">
      <p class=" lead">
        {% trans "Archiving / Storage" %}
      </p>
    </div>
    <div class="card-body">
      {% bootstrap_field form.storage_solutions label_class="" placeholder="" %}
      {% bootstrap_field form.storage_solution_text label_class="" placeholder="" %}
      {% bootstrap_field form.storage_needed label_class="" placeholder="" %}
      {% bootstrap_field form.raw_data_retention label_class="" placeholder="" %}
      {% bootstrap_field form.data_retention label_class="" placeholder="" %}
      {% bootstrap_field form.backup_plan label_class="" placeholder="" %}
      {% bootstrap_field form.cloud_costs label_class="" placeholder="" %}
    </div>
  </div>

  <div class="card mb-5">
    <div class="card-header bg-primary text-light ">
      <p class=" lead">
        {% trans "Sharing" %}
      </p>
    </div>
    <div class="card-body">
      {% bootstrap_field form.had_sharing_agreements label_class="" placeholder="" %}
      {% bootstrap_field form.sharing_agreements_text label_class="" placeholder="" %}
      {% bootstrap_field form.publication_timeframe label_class="" placeholder="" %}
      {% bootstrap_field form.publishing_platforms label_class="" placeholder="" %}
      {% bootstrap_field form.comments label_class="" placeholder="" %}
    </div>
  </div>


  {% if not cloning %}
    <div class="card mb-5">
      <div class="card-header bg-primary text-light">
        <p class=" lead">
          {% trans "Open Data Publication" %}
        </p>
        <p>
          {% trans "These are field relating to the open data publication process" %}
        </p>
      </div>
      <div class="card-body">
        <img src="{% static 'img/icons/fgp.png' %}" alt="" width="40px" class="mb-3">
        {% bootstrap_field form.fgp_url label_class="" placeholder="" %}
        <div class="mb-3">
          <a href="#id_fgp_url" id="fgp-guess">(guess at FGP url)</a>
        </div>
        <div class="row">
          <div class="col">
            {% bootstrap_field form.fgp_publication_date label_class="" placeholder="" %}
          </div>
          <div class="col">
            {% bootstrap_field form.last_revision_date label_class="" placeholder="" %}
          </div>
        </div>
        <img src="{% static 'img/icons/canada.png' %}" alt="" width="40px" class="mb-3">
        {% bootstrap_field form.public_url label_class="" placeholder="" %}
        <div class="mb-3">
          <a href="#id_public_url" id="opendata-guess">(guess at Open Data url)</a>
        </div>
        <div class="row">
          <div class="col">
            {% bootstrap_field form.od_publication_date label_class="" placeholder="" %}
          </div>
          <div class="col">
            {% bootstrap_field form.od_release_date label_class="" placeholder="" %}
          </div>
        </div>
        {% bootstrap_field form.open_data_notes label_class="" placeholder="" %}

      </div>
    </div>
  {% endif %}

  {% if form.add_custodian %}
    {% bootstrap_field form.add_custodian label_class="" placeholder="" %}
  {% endif %}

{% endblock %}

{% block body_js %}
  {{ block.super }}
  <script type="application/javascript">

  $("#fgp-guess").click(function () {
    $("#id_fgp_url").val("https://gcgeo.gc.ca/geonetwork/metadata/eng/" + "{{ object.uuid }}");
  });
  $("#opendata-guess").click(function () {
    $("#id_public_url").val("https://open.canada.ca/data/dataset/" + "{{ object.uuid }}");
  });

  </script>

{% endblock %}
