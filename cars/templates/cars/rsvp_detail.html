{% extends 'cars/base.html' %}
{% load verbose_names %}
{% load i18n %}
{% load l10n %}

{% block subcontent %}

  <div class="btns mb-3">
    <a href="{% url 'cars:rsvp_edit' object.id %}" class="btn btn-warning btn-sm">{% trans "Edit" %}</a>
    <a href="{% url 'cars:rsvp_delete' object.id %}" class="btn btn-danger btn-sm">{% trans "Delete" %}</a>
  </div>

  <div class="row mb-4">
    <div class="col">
      <table class="table table-sm w-75">
        {% for field in field_list %}
          {% if field == "status" %}
            <tr>
              <th>{% get_verbose_label object "status" %}</th>
              <td><span class="{{ object.get_status_display|slugify }} p-1">{{ object.get_status_display }}</span></td>
            </tr>
          {% else %}

            {% verbose_td_display object field %}
          {% endif %}
        {% endfor %}
      </table>
    </div>
  </div>

  {% if is_admin or user == object.vehicle.custodian %}

    <div class="card text-dark bg-light mb-3 w-45">
      <div class="card-header">{% trans "What action do you want to take?" %}</div>
      <div class="card-body">
{#        <h5 class="card-title mb-3">{% trans "What action do you want to take?" %}</h5>#}
        <div class="card-text">
          <a href="{% url 'cars:rsvp_action' object.id 'accept' %}" class="btn btn-lg btn-success good" data-toggle="tooltip"
             title="approve the reservation request">
            <span class="mdi mdi-check text-light"></span>
          </a>
          <a href="{% url 'cars:rsvp_action' object.id 'deny' %}" class="btn btn-lg btn-danger bad" data-toggle="tooltip" title="deny the reservation request">
            <span class="mdi mdi-close text-light"></span>
          </a>
          <a href="{% url 'cars:rsvp_action' object.id 'reset' %}" class="btn btn-lg btn-warning mild-concern" data-toggle="tooltip"
             title="{% trans "reset status to 'requested'" %}">
            <span class=" mdi mdi-refresh "></span>
          </a>
        </div>

      </div>
    </div>


  {% endif %}



{% endblock %}

